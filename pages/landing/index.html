<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aula C115 - L1</title>
    <link rel="stylesheet" href="https://necolas.github.io/normalize.css/8.0.1/normalize.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <style>
        :root {
            --animate-duration: 5s;
        }   
        body, html {
            height: 100%;
            margin: 0;
            padding: 0;
            scroll-padding: 0;
            overflow: hidden;
            background: #000;
        }
        .container {
            width: 100%;
            height: 100%;
            background-image: url('https://wallpaperaccess.com/full/17520.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            overflow: hidden;
        }
        .caption {
            position: absolute;
            left: 0;
            top: 45%;
            width: 100%;
            text-align: center;
            color: #000;
            --animate-duration: 3.5s;
        }

        .caption span.border {
            background-color: #111;
            color: #fff;
            padding: 18px;
            font-size: 25px;
            letter-spacing: 10px;
        }
        h3 {
            letter-spacing: 5px;
            text-transform: uppercase;
            font: 20px "Lato", sans-serif;
            color: #111;
        }
        .button {
            font: 20px "Lato", sans-serif;
            background-color: black;
            color: white;
            border: 1px solid white;
            padding: 10px 80px;
            cursor: pointer;
        }
        .button:hover {
            opacity: 50%;
        }
    </style>
</head>
<body>
    <div id="main" class="container animate__animated animate__pulse animate__slow animate__infinite">
        <div class="caption">
            <span class="border">C115 - Imagens Aleat√≥rias</span>
            <br>
            <br>
            <span class="border">
                <button id="ola" class="button" onclick="ola()">Outra imagem!</button>
            </span>
        </div>
    </div>

</body>
<script>

    theUrl = window.location.href + 'images';

    function ola() {
        console.log('clicado!');
        changeBkgnd();
        //window.location.href = window.location.href + 'spaceimage' + '?id=1';        
        httpGetAsync(theUrl,(params) => { changeBkgnd(params) })
    }

    function changeBkgnd(params) {
        document.getElementById('main').style.backgroundImage = "url(" + params + ")";
    }

    function httpGetAsync(theUrl, callback) {
        var xmlHttp = new XMLHttpRequest();
        xmlHttp.onreadystatechange = function() { 
            if (xmlHttp.readyState == 4 && xmlHttp.status == 200)
                callback(xmlHttp.responseText);
        }

        xmlHttp.open("GET", theUrl, true); // true for asynchronous 
        xmlHttp.send(null);
    }
</script>
</html>